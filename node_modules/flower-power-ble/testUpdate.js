var FlowerPower = require('./index');

FlowerPower.discoverByUuid('a0143d090cb8', function(flowerPower) {
  console.log('found');

  flowerPower.on('disconnect', function() {
    console.log("DISCONNECTED");
  });
  flowerPower.connectAndSetup(function() {
    // flowerPower.readFirmwareRevision(function(err, data) {console.log(err, data);});
    // flowerPower.updateFirmware('/home/bsautron/releaseFirmwares/2015-03-13_hawaii-1.2.0_hardware-config-MP.bin', function() {});
    flowerPower.updateFirmware('201.bin', function(err) {
      console.log("FINIIIII!", err);
    });
  });
});

//
// var Update = require('./Update');
// var dd = new Update(null, 'test.bin');
//
// var finish = function(err) {
//   if (err) console.log(err);
//   else {
//     console.log('ok');
//   }
// };
//
// dd.startUpdate(finish);
